this.BXmaker=this.BXmaker||{},function(e,t,o){"use strict";var n={CONFIRM_TYPE_SMS_CODE:1,CONFIRM_TYPE_USER_CALL:2,CONFIRM_TYPE_BOT_CALL:3,CONFIRM_TYPE_BOT_SPEECH:4,CONFIRM_TYPE_SIM_PUSH:5,CONFIRM_TYPE_EMAIL_CODE:44,AUTH_BY_PHONE:"PHONE",AUTH_BY_PASSWORD:"PASSWORD",AUTH_BY_EMAIL_CODE:"EMAIL_CODE",ACTION_TYPE_AUTH:"AUTH",ACTION_TYPE_REG:"REG",ACTION_TYPE_FORGET:"FORGET"};function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function r(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){babelHelpers.defineProperty(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}o.Vue.component("BXmakerAuthuserphoneEnterSmsCode",{props:{},data:function(){return{lastActionCheck:!1}},mounted:function(){this.$refs.refInputCode.focus()},computed:{},methods:{onInputCode:function(e){this.$root.setSmsCode(e),this.$root.setSmsCodeError(!1),this.$root.smsCodeLength===e.length&&this.$root.isFullCaptcha&&this.onClickCheck()},onClickCheck:function(){this.lastActionCheck=!0,this.$root.checkConfirm()},onClickChangePhone:function(){this.lastActionCheck=!1,this.$root.resetMessage(),this.$root.resetCaptcha(),this.$root.hideConfirm(),this.$root.setSmsCode("")},onClickStart:function(){this.lastActionCheck=!1,this.$root.setSmsCode(""),this.$root.setSmsCodeError(!1),this.$root.startConfirmSmsCode()},onCompleteCaptcha:function(){this.lastActionCheck?this.$root.smsCodeLength===this.$root.smsCode.length&&this.onClickCheck():this.onClickStart()},onCompleteTimeout:function(){this.$root.setSmsCodeTimeout(0)}},template:'\n            <div class="bxmaker-authuserphone-enter-smscode"  >\n                <slot name="header">\n                    <BXmakerAuthuserphoneHeader>\n                        {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_SMS_CODE_TITLE}}\n                    </BXmakerAuthuserphoneHeader>  \n                </slot>\n                   \n                <slot name="message">\n                    <BXmakerAuthuserphoneMessage :message="$root.message" :error="$root.error" /> \n                </slot>                   \n                \n                <slot name="notice>">    \n                    <div class="bxmaker-authuserphone-enter-smscode__notice">\n                         {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_SMS_CODE_NOTICE}} \n                         \n                         <span class="bxmaker-authuserphone-enter-smscode__phone">{{$root.formattedPhone}}</span>\n                         \n                         <BXmakerAuthuserphoneLink @onClick="onClickChangePhone">\n                            {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_SMS_CODE_CHANGE_PHONE}}\n                         </BXmakerAuthuserphoneLink>                     \n                    </div>\n                </slot>\n                {{$root.code}}\n                <slot name="code">\n                    <BXmakerAuthuserphoneInputCode \n                        :value="$root.smsCode" \n                        @onInput="onInputCode" \n                        @onEnter="onClickCheck" \n                        ref="refInputCode" \n                        :maxLength="$root.smsCodeLength"  \n                        :loader="$root.smsCodeCheckLoader"\n                        :validationMessage="$root.smsCodeError"\n                    />\n                </slot>\n                               \n                <slot name="captcha">\n                    <BXmakerAuthuserphoneCaptcha \n                        :code="$root.captchaCode"\n                        :src="$root.captchaSrc"\n                        :length="$root.captchaLength"\n                        :loader="$root.captchaLoader"\n                        @onInput="$root.setCaptchaCode"\n                        @onComplete="onCompleteCaptcha"\n                        @onRefresh="$root.refreshCaptcha"\n                   />\n                </slot>             \n                                \n                <slot name="timeout"> \n                    <BXmakerAuthuserphoneTimeout \n                    :timeout="$root.smsCodeTimeout" \n                    v-if="$root.smsCodeTimeout" \n                    @onComplete="onCompleteTimeout" >  \n                        <template v-slot:before>\n                            {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_SMS_CODE_TIMEOUT_TITLE}} <br>\n                            {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_SMS_CODE_TIMEOUT_SUBTITLE}} \n                        </template>                 \n                    </BXmakerAuthuserphoneTimeout>\n                </slot>\n                           \n                <slot name="request">\n                    <div class="bxmaker-authuserphone-enter-smscode__send"  v-if="!$root.smsCodeTimeout" >\n                        <BXmakerAuthuserphoneLink @onClick="onClickStart" v-if="!$root.smsCodeStartLoader">\n                            {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_SMS_CODE_GET_NEW}}   \n                         </BXmakerAuthuserphoneLink> \n                         <BXmakerAuthuserphoneLoader class="bxmaker-authuserphone-enter-smscode__send-loader" v-else />\n                    </div>        \n                </slot>        \n                                \n            </div>\n        '}),o.Vue.component("BXmakerAuthuserphoneEnterUserCall",{props:[],data:function(){return{lastActionCheck:!1}},created:function(){var e=this;this.$Bitrix.PullClient&&this.$Bitrix.PullClient.get()&&(this.unsubscribe=this.$Bitrix.PullClient.get().subscribe({moduleId:"bxmaker.authuserphone",command:"COMMAND_CALL_USER_CHECK",callback:function(){e.$root.isNeedShowConfirmUserCall&&e.onClickCheck()}}))},beforeDestroy:function(){"function"==typeof this.unsubscribe&&this.unsubscribe()},computed:{},methods:{onClickCheck:function(){this.lastActionCheck=!0,this.$root.checkConfirm()},onClickChangePhone:function(){this.lastActionCheck=!1,this.$root.resetMessage(),this.$root.resetCaptcha(),this.$root.hideConfirm(),this.$root.setUserCallTo("")},onClickStart:function(){this.lastActionCheck=!1,this.$root.startConfirmUserCall()},onCompleteCaptcha:function(){this.lastActionCheck?this.onClickCheck():this.onClickStart()},onCompleteTimeout:function(){this.$root.setUserCallTimeout(0)}},template:'\n            <div class="bxmaker-authuserphone-enter-usercall"  >\n              \n                <slot name="header">                  \n                    <BXmakerAuthuserphoneHeader>\n                        {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_USER_CALL_TITLE}}\n                    </BXmakerAuthuserphoneHeader>     \n                </slot>\n                \n                <slot name="message">\n                    <BXmakerAuthuserphoneMessage :message="$root.message" :error="$root.error" />  \n                </slot>                  \n                    \n                <slot name="notice">\n                    <div class="bxmaker-authuserphone-enter-usercall__notice">\n                         {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_USER_CALL_NOTICE}} \n                         \n                         <span class="bxmaker-authuserphone-enter-usercall__phone">{{$root.formattedPhone}}</span>\n                         \n                         <BXmakerAuthuserphoneLink @onClick="onClickChangePhone">\n                            {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_USER_CALL_CHANGE_PHONE}}\n                         </BXmakerAuthuserphoneLink>                     \n                    </div>\n                </slot>\n                \n                <slot name="callTo">\n                    <BXmakerAuthuserphoneUserCallTo\n                        :value="$root.userCallTo"\n                        :loader="$root.userCallStartLoader"\n                    />\n                </slot>\n                               \n                <slot name="captcha">\n                    <BXmakerAuthuserphoneCaptcha \n                        :code="$root.captchaCode"\n                        :src="$root.captchaSrc"\n                        :length="$root.captchaLength"\n                        :loader="$root.captchaLoader"\n                        @onInput="$root.setCaptchaCode"\n                        @onComplete="onCompleteCaptcha"\n                        @onRefresh="$root.refreshCaptcha"\n                   />\n                </slot>\n                \n                 <slot name="timeout">\n                    <BXmakerAuthuserphoneTimeout \n                    :timeout="$root.userCallTimeout"\n                     v-if="$root.userCallTimeout"\n                     @onComplete="onCompleteTimeout" >  \n                        <template v-slot:before>\n                            {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_USER_CALL_TIMEOUT_TITLE}} <br>\n                            {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_USER_CALL_TIMEOUT_SUBTITLE}} \n                        </template>       \n                     </BXmakerAuthuserphoneTimeout>  \n                 </slot>             \n                \n                <slot name="request" v-if="!$root.userCallTimeout" >     \n                    <div class="bxmaker-authuserphone-enter-usercall__start" >\n                        <BXmakerAuthuserphoneLink @onClick="onClickStart" v-if="!$root.userCallStartLoader">\n                            {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_USER_CALL_GET_NEW}}   \n                         </BXmakerAuthuserphoneLink> \n                         <BXmakerAuthuserphoneLoader class="bxmaker-authuserphone-enter-usercall__start-loader" v-else />\n                    </div>   \n                </slot>                \n                          \n                <slot name="check">          \n                    <BXmakerAuthuserphoneButton \n                        class="bxmaker-authuserphone-enter-usercall__button-check"\n                        :title="$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_USER_CALL_BUTTON_CHECK"  \n                        :loader="$root.userCallCheckLoader"\n                        @onClick="onClickCheck" \n                    />       \n                </slot>\n                                \n            </div>\n        '}),o.Vue.component("BXmakerAuthuserphoneEnterBotCall",{props:[],data:function(){return{lastActionCheck:!1}},mounted:function(){this.$refs.refInputCode.focus()},computed:{noticeText:function(){var e=this.$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_BOT_CALL_NOTICE_START;return e+=this.$root.botCallLength,e+=" ",e+=this.$root.botCallLength<=4?this.$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_BOT_CALL_NOTICE_NAME_4:this.$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_BOT_CALL_NOTICE_NAME,e+=this.$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_BOT_CALL_NOTICE_STOP}},methods:{onInputCode:function(e){this.$root.setBotCallCode(e),this.$root.botCallLength===e.length&&this.onClickCheck()},onClickCheck:function(){this.lastActionCheck=!0,this.$root.checkConfirm()},onClickChangePhone:function(){this.lastActionCheck=!1,this.$root.resetMessage(),this.$root.resetCaptcha(),this.$root.hideConfirm(),this.$root.setBotCallCode("")},onClickStart:function(){this.lastActionCheck=!1,this.$root.setBotCallCode(""),this.$root.startConfirmBotCall()},onCompleteCaptcha:function(){this.lastActionCheck?this.$root.botCallLength===this.$root.botCallCode.length&&this.onClickCheck():this.onClickStart()},onCompleteTimeout:function(){this.$root.setBotCallTimeout(0)}},template:'\n            <div class="bxmaker-authuserphone-enter-botcall"  >\n            \n                <slot name="header">\n                    <BXmakerAuthuserphoneHeader>\n                        {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_BOT_CALL_TITLE}}\n                    </BXmakerAuthuserphoneHeader>     \n                </slot>\n                \n                <slot name="message">\n                    <BXmakerAuthuserphoneMessage :message="$root.message" :error="$root.error" />     \n                </slot>                \n                    \n                <slot name="notice">\n                    <div class="bxmaker-authuserphone-enter-botcall__notice">\n                         {{noticeText}} \n                         \n                         <span class="bxmaker-authuserphone-enter-botcall__phone">{{$root.formattedPhone}}</span>\n                         \n                         <BXmakerAuthuserphoneLink @onClick="onClickChangePhone">\n                            {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_BOT_CALL_CHANGE_PHONE}}\n                         </BXmakerAuthuserphoneLink>                     \n                    </div>\n                </slot>\n                \n                <slot name="code">\n                    <BXmakerAuthuserphoneInputCode \n                        :value="$root.botCallCode" \n                        @onInput="onInputCode" \n                        @onEnter="onClickCheck" \n                        ref="refInputCode" \n                        :maxLength="$root.botCallLength"  \n                        :loader="$root.botCallCheckLoader"\n                    />\n                </slot>\n                               \n                <slot name="captcha">\n                    <BXmakerAuthuserphoneCaptcha \n                        :code="$root.captchaCode"\n                        :src="$root.captchaSrc"\n                        :length="$root.captchaLength"\n                        :loader="$root.captchaLoader"\n                        @onInput="$root.setCaptchaCode"\n                        @onComplete="onCompleteCaptcha"\n                        @onRefresh="$root.refreshCaptcha"\n                   />  \n                </slot>                                                        \n                \n                <slot name="timeout">\n                    <BXmakerAuthuserphoneTimeout \n                    :timeout="$root.botCallTimeout"\n                     v-if="$root.botCallTimeout"\n                     @onComplete="onCompleteTimeout" >  \n                        <template v-slot:before>\n                            {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_BOT_CALL_TIMEOUT_TITLE}} <br>\n                            {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_BOT_CALL_TIMEOUT_SUBTITLE}} \n                        </template>       \n                     </BXmakerAuthuserphoneTimeout>  \n                 </slot>             \n                            \n                <slot name="request">                \n                    <div class="bxmaker-authuserphone-enter-botcall__send"  v-if="!$root.botCallTimeout" >\n                        <BXmakerAuthuserphoneLink @onClick="onClickStart" v-if="!$root.botCallStartLoader">\n                            {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_BOT_CALL_GET_NEW}}   \n                         </BXmakerAuthuserphoneLink> \n                         <BXmakerAuthuserphoneLoader class="bxmaker-authuserphone-enter-botcall__send-loader" v-else />\n                    </div>  \n                </slot>              \n                                \n            </div>\n        '}),o.Vue.component("BXmakerAuthuserphoneEnterBotSpeech",{props:[],data:function(){return{lastActionCheck:!1}},mounted:function(){this.$refs.refInputCode.focus()},computed:{},methods:{onInputCode:function(e){this.$root.setBotSpeechCode(e),this.$root.botSpeechLength===e.length&&this.onClickCheck()},onClickCheck:function(){this.lastActionCheck=!0,this.$root.checkConfirm()},onClickChangePhone:function(){this.lastActionCheck=!1,this.$root.resetMessage(),this.$root.resetCaptcha(),this.$root.hideConfirm(),this.$root.setBotSpeechCode("")},onClickStart:function(){this.lastActionCheck=!1,this.$root.setBotSpeechCode(""),this.$root.startConfirmBotSpeech()},onCompleteCaptcha:function(){this.lastActionCheck?this.$root.botSpeechLength===this.$root.botSpeechCode.length&&this.onClickCheck():this.onClickStart()},onCompleteTimeout:function(){this.$root.setBotSpeechTimeout(0)}},template:'\n            <div class="bxmaker-authuserphone-enter-botspeech"  >\n            \n                <slot name="header">\n                    <BXmakerAuthuserphoneHeader>\n                        {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_BOT_SPEECH_TITLE}}\n                    </BXmakerAuthuserphoneHeader>     \n                </slot>\n                \n                <slot name="message">\n                    <BXmakerAuthuserphoneMessage :message="$root.message" :error="$root.error" />     \n                </slot>                \n                    \n                <slot name="notice">\n                    <div class="bxmaker-authuserphone-enter-botcall__notice">\n                         {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_BOT_SPEECH_NOTICE}}\n                         \n                         <span class="bxmaker-authuserphone-enter-botcall__phone">{{$root.formattedPhone}}</span>\n                         \n                         <BXmakerAuthuserphoneLink @onClick="onClickChangePhone">\n                            {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_BOT_SPEECH_CHANGE_PHONE}}\n                         </BXmakerAuthuserphoneLink>                     \n                    </div>\n                </slot>\n                \n                <slot name="code">\n                    <BXmakerAuthuserphoneInputCode \n                        :value="$root.botSpeechCode" \n                        @onInput="onInputCode" \n                        @onEnter="onClickCheck" \n                        ref="refInputCode" \n                        :maxLength="$root.botSpeechLength"  \n                        :loader="$root.botSpeechCheckLoader"\n                    />\n                </slot>\n                               \n                <slot name="captcha">\n                    <BXmakerAuthuserphoneCaptcha \n                        :code="$root.captchaCode"\n                        :src="$root.captchaSrc"\n                        :length="$root.captchaLength"\n                        :loader="$root.captchaLoader"\n                        @onInput="$root.setCaptchaCode"\n                        @onComplete="onCompleteCaptcha"\n                        @onRefresh="$root.refreshCaptcha"\n                   />  \n                </slot>                                                        \n                \n                <slot name="timeout">\n                    <BXmakerAuthuserphoneTimeout \n                    :timeout="$root.botSpeechTimeout"\n                     v-if="$root.botSpeechTimeout"\n                     @onComplete="onCompleteTimeout" >  \n                        <template v-slot:before>\n                            {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_BOT_SPEECH_TIMEOUT_TITLE}} <br>\n                            {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_BOT_SPEECH_TIMEOUT_SUBTITLE}} \n                        </template>       \n                     </BXmakerAuthuserphoneTimeout>  \n                 </slot>             \n                            \n                <slot name="request">                \n                    <div class="bxmaker-authuserphone-enter-botcall__send"  v-if="!$root.botSpeechTimeout" >\n                        <BXmakerAuthuserphoneLink @onClick="onClickStart" v-if="!$root.botSpeechStartLoader">\n                            {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_BOT_SPEECH_GET_NEW}}   \n                         </BXmakerAuthuserphoneLink> \n                         <BXmakerAuthuserphoneLoader class="bxmaker-authuserphone-enter-botcall__send-loader" v-else />\n                    </div>  \n                </slot>              \n                                \n            </div>\n        '}),o.Vue.component("BXmakerAuthuserphoneEnterSimPush",{props:[],data:function(){return{lastActionCheck:!1}},created:function(){var e=this;this.$Bitrix.PullClient&&this.$Bitrix.PullClient.get()&&(this.unsubscribe=this.$Bitrix.PullClient.get().subscribe({moduleId:"bxmaker.authuserphone",command:"COMMAND_SIM_PUSH_CHECK",callback:function(){e.$root.isNeedShowConfirmSimPush&&e.onClickCheck()}}))},beforeDestroy:function(){"function"==typeof this.unsubscribe&&this.unsubscribe()},computed:{},methods:{onClickCheck:function(){this.lastActionCheck=!0,this.$root.checkConfirm()},onClickChangePhone:function(){this.lastActionCheck=!1,this.$root.resetMessage(),this.$root.resetCaptcha(),this.$root.hideConfirm(),this.$root.setSimPush("")},onClickStart:function(){this.lastActionCheck=!1,this.$root.startConfirmSimPush()},onCompleteCaptcha:function(){this.lastActionCheck?this.onClickCheck():this.onClickStart()},onCompleteTimeout:function(){this.$root.setSimPushTimeout(0)}},template:'\n            <div class="bxmaker-authuserphone-enter-simpush"  >\n              \n                <slot name="header">                  \n                    <BXmakerAuthuserphoneHeader>\n                        {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_SIM_PUSH_TITLE}}\n                    </BXmakerAuthuserphoneHeader>     \n                </slot>\n                \n                <slot name="message">\n                    <BXmakerAuthuserphoneMessage :message="$root.message" :error="$root.error" />  \n                </slot>                  \n                    \n                <slot name="notice">\n                    <div class="bxmaker-authuserphone-enter-simpush__notice">\n                         {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_SIM_PUSH_NOTICE}} \n                         \n                         <span class="bxmaker-authuserphone-enter-simpush__phone">{{$root.formattedPhone}}</span>\n                         \n                         <BXmakerAuthuserphoneLink @onClick="onClickChangePhone">\n                            {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_SIM_PUSH_CHANGE_PHONE}}\n                         </BXmakerAuthuserphoneLink>                     \n                    </div>\n                </slot>\n                                               \n                <slot name="captcha">\n                    <BXmakerAuthuserphoneCaptcha \n                        :code="$root.captchaCode"\n                        :src="$root.captchaSrc"\n                        :length="$root.captchaLength"\n                        :loader="$root.captchaLoader"\n                        @onInput="$root.setCaptchaCode"\n                        @onComplete="onCompleteCaptcha"\n                        @onRefresh="$root.refreshCaptcha"\n                   />\n                </slot>\n                \n                 <slot name="timeout">\n                    <BXmakerAuthuserphoneTimeout \n                    :timeout="$root.simPushTimeout"\n                     v-if="$root.simPushTimeout"\n                     @onComplete="onCompleteTimeout" >  \n                        <template v-slot:before>\n                            {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_SIM_PUSH_TIMEOUT_TITLE}} <br>\n                            {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_SIM_PUSH_TIMEOUT_SUBTITLE}} \n                        </template>       \n                     </BXmakerAuthuserphoneTimeout>  \n                 </slot>             \n                \n                <slot name="request" v-if="!$root.simPushTimeout" >     \n                    <div class="bxmaker-authuserphone-enter-simpush__start" >\n                        <BXmakerAuthuserphoneLink @onClick="onClickStart" v-if="!$root.simPushStartLoader">\n                            {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_SIM_PUSH_GET_NEW}}   \n                         </BXmakerAuthuserphoneLink> \n                         <BXmakerAuthuserphoneLoader class="bxmaker-authuserphone-enter-simpush__start-loader" v-else />\n                    </div>   \n                </slot>                \n                          \n                <slot name="check">          \n                    <BXmakerAuthuserphoneButton \n                        v-if="!$root.simPushDelay"\n                        class="bxmaker-authuserphone-enter-simpush__button-check"\n                        :title="$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_SIM_PUSH_BUTTON_CHECK"  \n                        :loader="$root.simPushCheckLoader"\n                        @onClick="onClickCheck"                         \n                    />       \n                </slot>\n                                \n            </div>\n        '}),o.Vue.component("BXmakerAuthuserphoneEnterAuthForm",{name:"BXmakerAuthuserphoneEnterAuthForm",data:function(){return{}},computed:{},methods:{onEnterPhone:function(){this.onClickConfirm()},onCompleteCaptcha:function(){this.onClickConfirm()},onClickConfirm:function(){this.$root.isFullCaptcha&&this.$root.authByPhone()},onClickAuthByPass:function(){this.$root.setAuthByPassword()},onClickAuthByEmail:function(){this.$root.setAuthByEmailCode()},onChangePhone:function(e){this.$root.setPhone(e.formattedValue)}},template:'\n      <div class="bxmaker-authuserphone-enter-auth-form">\n\n        <slot name="message">\n          <BXmakerAuthuserphoneMessage :message="$root.message" :error="$root.error"/>\n        </slot>\n\n        <slot name="phone">\n          <BXmakerAuthuserphoneInputPhone v-if="$root.isEnabledPhoneMaskTypeBitrix"\n                                          :title="$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_AUTH_FORM_PHONE"\n                                          :value="$root.phone"\n                                          @onChange="onChangePhone"\n                                          @onEnter="onEnterPhone"\n                                          name="PHONE"\n                                          :mask="$root.phoneMaskParams"\n          />\n          <BXmakerAuthuserphoneInput v-else\n                                     :title="$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_AUTH_FORM_PHONE"\n                                     :value="$root.phone"\n                                     @onInput="$root.setPhone"\n                                     @onEnter="onEnterPhone"\n                                     name="PHONE"\n                                     :mask="$root.phoneMaskParams"\n                                     type="tel"\n          />\n        </slot>\n\n\n        <slot name="captcha">\n          <BXmakerAuthuserphoneCaptcha\n              :code="$root.captchaCode"\n              :src="$root.captchaSrc"\n              :length="$root.captchaLength"\n              :loader="$root.captchaLoader"\n              @onInput="$root.setCaptchaCode"\n              @onComplete="onCompleteCaptcha"\n              @onRefresh="$root.refreshCaptcha"\n          />\n        </slot>\n\n        <slot name="request">\n          <BXmakerAuthuserphoneButton\n              :title="$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_AUTH_FORM_BUTTON"\n              :loader="$root.startLoader"\n              @onClick="onClickConfirm"\n          />\n        </slot>\n\n        <div class="bxmaker-authuserphone-enter-auth-form__by" v-if="$root.isEnabledConfirmByEmailCode">\n          <BXmakerAuthuserphoneLink @onClick="onClickAuthByEmail">\n            {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_AUTH_FORM_BY_EMAIL}}\n          </BXmakerAuthuserphoneLink>\n        </div>\n\n        <slot name="bypass">\n          <div class="bxmaker-authuserphone-enter-auth-form__by">\n            <BXmakerAuthuserphoneLink @onClick="onClickAuthByPass">\n              {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_AUTH_FORM_BY_PASS}}\n            </BXmakerAuthuserphoneLink>\n          </div>\n        </slot>\n\n      </div>\n    '}),o.Vue.component("BXmakerAuthuserphoneEnterAuthByPasswordForm",{name:"BXmakerAuthuserphoneEnterAuthByPasswordForm",data:function(){return{}},computed:{inputText:function(){var e=[],t="";return e.push(this.$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_AUTH_BY_PASSWORD_FORM_PHONE),this.$root.isEnabledAuthByLogin&&e.push(this.$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_AUTH_BY_PASSWORD_FORM_LOGIN),this.$root.isEnabledAuthByEmail&&e.push(this.$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_AUTH_BY_PASSWORD_FORM_EMAIL),e.length>1?(t=e.slice(0,-1).join(", "),t+=" "+this.$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_AUTH_BY_PASSWORD_FORM_OR+" ",t+=e.slice(-1)):t=e.join(", "),t=t.substring(0,1).toUpperCase()+t.substring(1)}},methods:{onChangePhone:function(e){this.$root.setPLE(e.formattedValue)},onEnterPLE:function(){this.$refs.password.focus()},onEnterPassword:function(){this.onClickConfirm()},onCompleteCaptcha:function(){this.onClickConfirm()},onClickConfirm:function(){this.$root.isFullCaptcha&&this.$root.authByPassword()},onClickBack:function(){this.$root.setAuthByPhone()}},template:'\n            <div class="bxmaker-authuserphone-enter-auth-by-password-form"  >\n                 \n                 <slot name="message" >  \n                        <BXmakerAuthuserphoneMessage :message="$root.message" :error="$root.error" />\n                 </slot>     \n                   \n                                      \n                 <slot name="phone">                        \n           \n                        <BXmakerAuthuserphoneInputPhone \n                            v-if="!$root.isEnabledAuthByLogin && !$root.isEnabledAuthByEmail && $root.isEnabledPhoneMaskTypeBitrix"\n                            :title="inputText" \n                            :value="$root.ple" \n                            @onChange="onChangePhone" \n                            @onEnter="onEnterPLE" \n                            name="PHONE_LOGIN_EMAIL" \n                            :mask="$root.phoneMaskParams"                  \n                        />\n                             \n                        <BXmakerAuthuserphoneInput v-else\n                            :title="inputText" \n                            :value="$root.ple" \n                            @onInput="$root.setPLE" \n                            @onEnter="onEnterPLE" \n                            name="PHONE_LOGIN_EMAIL"\n                            :mask="((!$root.isEnabledAuthByLogin && !$root.isEnabledAuthByEmail) ? $root.phoneMaskParams : {})"\n                            :type="((!$root.isEnabledAuthByLogin && !$root.isEnabledAuthByEmail) ? \'tel\' : \'text\')"\n                        />\n                 </slot>\n                    \n                 <slot name="pass">                   \n                        <BXmakerAuthuserphoneInputPassword \n                            :title="$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_AUTH_BY_PASSWORD_FORM_PASSWORD" \n                            :value="$root.password" \n                            @onInput="$root.setPassword" \n                            @onEnter="onEnterPassword" \n                            name="PASSWORD" \n                            ref="password"                         \n                        />\n                 </slot>\n                 \n                    \n                 <BXmakerAuthuserphoneLink @onClick="$root.toForget" class="bxmaker-authuserphone-enter-auth-by-password-form__forget">\n                    {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_AUTH_BY_PASSWORD_FORGET}}   \n                 </BXmakerAuthuserphoneLink> \n                                        \n                    \n                 <slot name="captcha">\n                      <BXmakerAuthuserphoneCaptcha \n                          :code="$root.captchaCode"\n                          :src="$root.captchaSrc"\n                          :length="$root.captchaLength"\n                          :loader="$root.captchaLoader"\n                          @onInput="$root.setCaptchaCode"\n                          @onComplete="onCompleteCaptcha"\n                          @onRefresh="$root.refreshCaptcha"\n                         />  \n                 </slot>   \n                     \n                    \n                 <slot name="request">\n                    <BXmakerAuthuserphoneButton \n                        :title="$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_AUTH_BY_PASSWORD_FORM_BUTTON"  \n                        :loader="$root.startLoader"\n                        @onClick="onClickConfirm" \n                    />\n                 </slot>\n                    \n                 <div class="bxmaker-authuserphone-enter-auth-by-password-form__back">\n                   <BXmakerAuthuserphoneLink @onClick="onClickBack" >\n                      {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_AUTH_BY_PASSWORD_BACK}}   \n                   </BXmakerAuthuserphoneLink> \n                 </div>\n                                          \n                   \n                             \n            </div>\n        '}),o.Vue.component("BXmakerAuthuserphoneEnterAuthByEmailCodeForm",{name:"BXmakerAuthuserphoneEnterAuthByEmailCodeForm",data:function(){return{}},computed:{},methods:{onInputEmail:function(e){this.$root.setEmail(e)},onEnterEmail:function(e){this.$root.setEmail(e),this.onClickDone()},onClickDone:function(){this.$root.startConfirmEmailCode()},onClickAuthByPhone:function(){this.$root.setAuthByPhone()}},template:'\n      <div class="bxmaker-authuserphone-enter-authbyemailcode-form">\n\n        <BXmakerAuthuserphoneHeader>\n          {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_AUTHBYEMAILCODE_FORM_TITLE}}\n        </BXmakerAuthuserphoneHeader>\n\n        <div class="bxmaker-authuserphone-enter-authbyemailcode-form__subtitle">\n          {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_AUTHBYEMAILCODE_FORM_SUBTITLE}}\n        </div>\n\n        <BXmakerAuthuserphoneMessage :message="$root.message" :error="$root.error"/>\n\n        <BXmakerAuthuserphoneInput \n             :title="$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_AUTHBYEMAILCODE_FORM_INPUT"\n             :value="$root.email"\n             @onInput="onInputEmail"\n             @onEnter="onEnterEmail"\n             name="EMAIL"             \n             type="email"\n        />\n\n        <BXmakerAuthuserphoneCaptcha\n            :code="$root.captchaCode"\n            :src="$root.captchaSrc"\n            :length="$root.captchaLength"\n            :loader="$root.captchaLoader"\n            @onInput="$root.setCaptchaCode"\n            @onComplete="onClickDone"\n            @onRefresh="$root.refreshCaptcha"\n        />\n\n\n        <BXmakerAuthuserphoneButton\n            :title="$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_AUTHBYEMAILCODE_FORM_BUTTON"\n            :loader="$root.startLoader"\n            @onClick="onClickDone"\n        />\n        \n       \n          <div class="bxmaker-authuserphone-enter-auth-form__by">\n            <BXmakerAuthuserphoneLink @onClick="onClickAuthByPhone">\n              {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_AUTH_FORM_BY_PHONE}}\n            </BXmakerAuthuserphoneLink>\n          </div>\n        \n\n      </div>\n    '}),o.Vue.component("BXmakerAuthuserphoneEnterAuthByEmailCode",{props:{},data:function(){return{lastActionCheck:!1}},mounted:function(){this.$refs.refInputCode.focus()},computed:{},methods:{onInputCode:function(e){this.$root.setEmailCode(e),this.$root.emailCodeLength===e.length&&this.$root.isFullCaptcha&&this.onClickCheck()},onClickCheck:function(){this.lastActionCheck=!0,this.$root.authByEmailCode()},onClickChangeEmail:function(){this.lastActionCheck=!1,this.$root.resetMessage(),this.$root.resetCaptcha(),this.$root.hideConfirm(),this.$root.resetCheck()},onClickStart:function(){this.lastActionCheck=!1,this.$root.setEmailCode(""),this.$root.startConfirmEmailCode()},onCompleteCaptcha:function(){if(this.lastActionCheck)return this.$root.emailCodeLength===this.$root.emailCode.length&&void this.onClickCheck();this.onClickStart()},onCompleteTimeout:function(){this.$root.setEmailCodeTimeout(0)}},template:'\n          <div class="bxmaker-authuserphone-enter-authbyemail-code">\n            <slot name="header">\n              <BXmakerAuthuserphoneHeader>\n                {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_AUTHBYEMAILCODE_TITLE}}\n              </BXmakerAuthuserphoneHeader>\n            </slot>\n\n            <slot name="message">\n              <BXmakerAuthuserphoneMessage :message="$root.message" :error="$root.error"/>\n            </slot>\n\n            <slot name="notice>">\n              <div class="bxmaker-authuserphone-enter-authbyemail-code__notice">\n                {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_AUTHBYEMAILCODE_NOTICE}}\n\n                <span class="bxmaker-authuserphone-enter-authbyemail-code__email">{{$root.email}}</span>\n\n                <BXmakerAuthuserphoneLink @onClick="onClickChangeEmail">\n                  {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_AUTHBYEMAILCODE_CHANGE_PHONE}}\n                </BXmakerAuthuserphoneLink>\n              </div>\n            </slot>\n\n            <slot name="code">\n              <BXmakerAuthuserphoneInputCode\n                  :value="$root.emailCode"\n                  @onInput="onInputCode"\n                  @onEnter="onClickCheck"\n                  ref="refInputCode"\n                  :maxLength="$root.emailCodeLength"\n                  :loader="$root.emailCodeCheckLoader"\n                  :validationMessage="$root.emailCodeError"\n              />\n            </slot>\n\n            <slot name="captcha">\n              <BXmakerAuthuserphoneCaptcha\n                  :code="$root.captchaCode"\n                  :src="$root.captchaSrc"\n                  :length="$root.captchaLength"\n                  :loader="$root.captchaLoader"\n                  @onInput="$root.setCaptchaCode"\n                  @onComplete="onCompleteCaptcha"\n                  @onRefresh="$root.refreshCaptcha"\n              />\n            </slot>\n\n            <slot name="timeout">\n              <BXmakerAuthuserphoneTimeout\n                  :timeout="$root.emailCodeTimeout"\n                  v-if="$root.emailCodeTimeout"\n                  @onComplete="onCompleteTimeout">\n                <template v-slot:before>\n                  {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_AUTHBYEMAILCODE_TIMEOUT_TITLE}} <br>\n                  {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_AUTHBYEMAILCODE_TIMEOUT_SUBTITLE}}\n                </template>\n              </BXmakerAuthuserphoneTimeout>\n            </slot>\n\n            <slot name="request">\n              <div class="bxmaker-authuserphone-enter-authbyemail-code__send" v-if="!$root.emailCodeTimeout">\n                <BXmakerAuthuserphoneLink @onClick="onClickStart" v-if="!$root.emailCodeStartLoader">\n                  {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_AUTHBYEMAILCODE_GET_NEW}}\n                </BXmakerAuthuserphoneLink>\n                <BXmakerAuthuserphoneLoader class="bxmaker-authuserphone-enter-authbyemail-code__send-loader" v-else/>\n              </div>\n            </slot>\n\n          </div>\n        '}),o.Vue.component("BXmakerAuthuserphoneEnterAuth",{name:"BXmakerAuthuserphoneEnterAuth",template:'\n      <div class="bxmaker-authuserphone-enter-auth">\n\n        <BXmakerAuthuserphoneHeader class="bxmaker-authuserphone-enter-auth__title">\n          {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_AUTH_TITLE}}\n        </BXmakerAuthuserphoneHeader>\n\n        <BXmakerAuthuserphoneEnterAuthForm\n            v-show="$root.isNeedShowAuthByPhoneForm"\n        />\n\n        <BXmakerAuthuserphoneEnterAuthByPasswordForm\n            v-show="$root.isNeedShowAuthByPasswordForm"\n        />\n\n        <BXmakerAuthuserphoneEnterAuthByEmailCodeForm\n            v-show="$root.isNeedShowAuthByEmailCodeForm"\n        />\n\n        <BXmakerAuthuserphoneEnterSmsCode\n            v-show="$root.isNeedShowConfirmSmsCode"\n        />\n\n        <BXmakerAuthuserphoneEnterUserCall\n            v-show="$root.isNeedShowConfirmUserCall"\n        />\n\n        <BXmakerAuthuserphoneEnterBotCall\n            v-show="$root.isNeedShowConfirmBotCall"\n        />\n\n        <BXmakerAuthuserphoneEnterBotSpeech\n            v-show="$root.isNeedShowConfirmBotSpeech"\n        />\n\n        <BXmakerAuthuserphoneEnterSimPush\n            v-show="$root.isNeedShowConfirmSimPush"\n        />\n\n        <BXmakerAuthuserphoneEnterAuthByEmailCode\n            v-show="$root.isNeedShowConfirmEmailCode"\n        />\n\n        <div class="bxmaker-authuserphone-enter-auth__change-confirm" v-if="$root.isNeedShowChangeConfirm">\n          <BXmakerAuthuserphoneLink @onClick="$root.changeConfirmType">\n            {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_CHANGE_CONFIRM_TYPE}}\n          </BXmakerAuthuserphoneLink>\n        </div>\n\n\n        <div class="bxmaker-authuserphone-enter-auth__toregistration"\n             v-if="($root.isNeedShowAuthByPhoneForm || $root.isNeedShowAuthByPasswordForm ) && $root.isEnabledRegister">\n          <BXmakerAuthuserphoneLink @onClick="$root.toRegistration">\n            {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_TO_REGISTRATION}}\n          </BXmakerAuthuserphoneLink>\n        </div>\n\n      </div>\n    '}),o.Vue.component("BXmakerAuthuserphoneEnterRegForm",{name:"BXmakerAuthuserphoneEnterRegForm",data:function(){return{}},computed:{birthdayMask:function(){return{type:"imask",format:"00.00.0000"}}},methods:{onEnterFIO:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e&&(this.$root.setFIO(e),this.$root.setDadataItem(t)),this.$root.isEnabledRegisterBirthday?this.$refs.birthday.focus():this.$refs.phone.focus()},onInputFIO:function(e){this.$root.setFIO(e),this.$root.setDadataItem(null)},onEnterLastName:function(e){this.$root.setLastName(e),this.$root.isEnabledRegisterFirstName?this.$refs.firstName.focus():this.$root.isEnabledRegisterSecondName?this.$refs.secondName.focus():this.$root.isEnabledRegisterBirthday?this.$refs.birthday.focus():this.$refs.phone.focus()},onInputLastName:function(e){this.$root.setLastName(e)},onEnterFirstName:function(e){this.$root.setFirstName(e),this.$root.isEnabledRegisterSecondName?this.$refs.secondName.focus():this.$root.isEnabledRegisterBirthday?this.$refs.birthday.focus():this.$refs.phone.focus()},onInputFirstName:function(e){this.$root.setFirstName(e)},onEnterSecondName:function(e){this.$root.setSecondName(e),this.$root.isEnabledRegisterBirthday?this.$refs.birthday.focus():this.$refs.phone.focus()},onInputSecondName:function(e){this.$root.setSecondName(e)},onEnterBirthday:function(e){e&&this.$root.setBirthday(e),this.$refs.phone.focus()},onInputBirthday:function(e){e=e.replace(/[^\d.]+/g,""),this.$root.setBirthday(e)},onEnterPhone:function(){this.$root.isEnabledRegisterLogin?this.$refs.login.focus():this.onEnterLogin()},onChangePhone:function(e){this.$root.setPhone(e.formattedValue)},onEnterLogin:function(){this.$root.isEnabledRegisterEmail?this.$refs.email.focus():this.onEnterEmail()},onEnterEmail:function(){this.$root.isEnabledRegisterPassword?this.$refs.password.focus():this.onEnterPassword()},onEnterPassword:function(){this.onClickConfirm()},onClickConfirm:function(){!this.$root.isEnabledRequestConsent||this.$root.isConsentReceived?this.$root.isFullCaptcha&&this.$root.register():this.$refs.consent.showPopup()},onConsentAgree:function(){this.$root.consentAgree(),this.$root.isFullCaptcha&&this.$root.register()},onChangeAdsAgreement:function(e){this.$root.setAdsAgreement(e.value)}},template:'\n      <div class="bxmaker-authuserphone-enter-reg-form">\n\n      <slot name="message">\n        <BXmakerAuthuserphoneMessage :message="$root.message" :error="$root.error"/>\n      </slot>\n\n        <slot name="name" v-if="$root.isEnabledRegisterFIO && !$root.isEnabledRegisterFIOSplit">\n          <BXmakerAuthuserphoneInputFIO\n              :title="$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_REG_FORM_FIO"\n              :value="$root.fio"\n              @onInput="onInputFIO"\n              @onEnter="onEnterFIO"\n              name="FIO"\n              :dadata="$root.registerFIODadata"\n              ref="fio"\n          />\n        </slot>\n\n   \n        \n        <slot name="lastName" v-if="$root.isEnabledRegisterFIOSplit && $root.isEnabledRegisterLastName">\n          <BXmakerAuthuserphoneInput\n              :title="$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_REG_FORM_LAST_NAME"\n              :value="$root.lastName"\n              @onInput="onInputLastName"\n              @onEnter="onEnterLastName"\n              name="LAST_NAME"\n              ref="lastName"\n          />\n        </slot>\n\n        <slot name="firstName" v-if="$root.isEnabledRegisterFIOSplit && $root.isEnabledRegisterFirstName">\n          <BXmakerAuthuserphoneInput\n              :title="$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_REG_FORM_FIRST_NAME"\n              :value="$root.firstName"\n              @onInput="onInputFirstName"\n              @onEnter="onEnterFirstName"\n              name="FIRST_NAME"\n              ref="firstName"\n          />\n        </slot>\n        \n        <slot name="secondName" v-if="$root.isEnabledRegisterFIOSplit && $root.isEnabledRegisterSecondName">\n          <BXmakerAuthuserphoneInput\n              :title="$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_REG_FORM_SECOND_NAME"\n              :value="$root.secondName"\n              @onInput="onInputSecondName"\n              @onEnter="onEnterSecondName"\n              name="SECOND_NAME"\n              ref="secondName"\n          />\n        </slot>\n               \n        \n        \n        <slot name="birthday" v-if="$root.isEnabledRegisterBirthday">\n        <BXmakerAuthuserphoneInput\n            :title="$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_REG_FORM_BIRTHDAY"\n            :value="$root.birthday"\n            @onInput="onInputBirthday"\n            @onEnter="onEnterBirthday"\n            name="BIRTHDAY"\n            ref="birthday"\n            :mask="birthdayMask"\n        />\n      </slot>\n\n\n      <slot name="phone">\n        <BXmakerAuthuserphoneInputPhone \n            v-if="$root.isEnabledPhoneMaskTypeBitrix"\n                                        :title="$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_REG_FORM_PHONE"\n                                        :value="$root.phone"\n                                        @onChange="onChangePhone"\n                                        @onEnter="onEnterPhone"\n                                        name="PHONE"\n                                        :mask="$root.phoneMaskParams"\n                                        ref="phone"\n        />\n\n        <BXmakerAuthuserphoneInput v-else\n                                   :title="$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_REG_FORM_PHONE"\n                                   :value="$root.phone"\n                                   @onInput="$root.setPhone"\n                                   @onEnter="onEnterPhone"\n                                   name="PHONE"\n                                   ref="phone"\n                                   :mask="$root.phoneMaskParams"\n                                   type="tel"\n        />\n      </slot>\n      <slot name="login" v-if="$root.isEnabledRegisterLogin">\n        <BXmakerAuthuserphoneInput\n            :title="$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_REG_FORM_LOGIN"\n            :value="$root.login"\n            @onInput="$root.setLogin"\n            @onEnter="onEnterLogin"\n            name="LOGIN"\n            ref="login"\n        />\n      </slot>\n      <slot name="email" v-if="$root.isEnabledRegisterEmail">\n        <BXmakerAuthuserphoneInput\n            :title="$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_REG_FORM_EMAIL"\n            :value="$root.email"\n            @onInput="$root.setEmail"\n            @onEnter="onEnterEmail"\n            name="EMAIL"\n            ref="email"\n        />\n      </slot>\n\n      <slot name="pass" v-if="$root.isEnabledRegisterPassword">\n        <BXmakerAuthuserphoneInputPassword\n            :title="$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_REG_FORM_PASSWORD"\n            :value="$root.password"\n            @onInput="$root.setPassword"\n            @onEnter="onEnterPassword"\n            ref="password"\n            name="PASSWORD"\n        />\n      </slot>\n\n\n      <slot name="captcha">\n        <BXmakerAuthuserphoneCaptcha\n            :code="$root.captchaCode"\n            :src="$root.captchaSrc"\n            :length="$root.captchaLength"\n            :loader="$root.captchaLoader"\n            @onInput="$root.setCaptchaCode"\n            @onComplete="onClickConfirm"\n            @onRefresh="$root.refreshCaptcha"\n        />\n      </slot>\n        \n\n        <slot name="adsAgreement" v-if="$root.isEnabledRequestAdsAgreement">\n          <BXmakerAuthuserphoneCheckbox\n              :label="$root.requestAdsAgreementLabel"\n              :checked="$root.isAdsAgreementReceived"\n              name="adsAgreement"\n              @onChange="onChangeAdsAgreement"\n              ref="adsAgreement"\n          />\n        </slot>\n        \n\n      <slot name="consent" v-if="$root.isEnabledRequestConsent">\n        <BXmakerAuthuserphoneConsent\n            :button="$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_REG_FORM_BUTTON"\n            :text="$root.consentText"\n            :isReceived="$root.isConsentReceived"\n            @onAgree="onConsentAgree"\n            @onDisagree="$root.consentDisagree"\n            ref="consent"\n        />\n      </slot>\n\n      <slot name="request">\n        <BXmakerAuthuserphoneButton\n            :title="$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_REG_FORM_BUTTON"\n            :loader="$root.startLoader"\n            @onClick="onClickConfirm"\n        />\n      </slot>\n\n\n      </div>\n    '}),o.Vue.component("BXmakerAuthuserphoneEnterReg",{name:"BXmakerAuthuserphoneEnterReg",data:function(){return{}},computed:{},methods:{},template:'\n            <div class="bxmaker-authuserphone-enter-reg"  >\n                \n                 <BXmakerAuthuserphoneHeader class="bxmaker-authuserphone-enter-reg__title" >\n                    {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_REGISTRATION_TITLE}}\n                 </BXmakerAuthuserphoneHeader>  \n                \n                                              \n                 <BXmakerAuthuserphoneEnterRegForm \n                    v-show="!$root.isShowConfirm" \n                 />   \n                                        \n                 <BXmakerAuthuserphoneEnterSmsCode  \n                     v-show="$root.isNeedShowConfirmSmsCode"                                    \n                 /> \n                    \n                 <BXmakerAuthuserphoneEnterUserCall  \n                     v-show="$root.isNeedShowConfirmUserCall"   \n                 /> \n                    \n                 <BXmakerAuthuserphoneEnterBotCall \n                      v-show="$root.isNeedShowConfirmBotCall"                 \n                 />  \n                 \n                 <BXmakerAuthuserphoneEnterBotSpeech \n                      v-show="$root.isNeedShowConfirmBotSpeech"                 \n                 />  \n                 \n                 <BXmakerAuthuserphoneEnterSimPush \n                      v-show="$root.isNeedShowConfirmSimPush"                 \n                 />  \n                 \n                    \n                 <div class="bxmaker-authuserphone-enter-reg__change-confirm" v-if="$root.isNeedShowChangeConfirm"  >\n                      <BXmakerAuthuserphoneLink @onClick="$root.changeConfirmType" >\n                         {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_CHANGE_CONFIRM_TYPE}}   \n                      </BXmakerAuthuserphoneLink> \n                 </div>   \n                    \n                 <div class="bxmaker-authuserphone-enter-reg__toauth" v-if="!$root.isShowConfirm">\n                      <BXmakerAuthuserphoneLink @onClick="$root.toAuth" >\n                             {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_TO_AUTH}}   \n                     </BXmakerAuthuserphoneLink> \n                 </div>   \n                \n                             \n            </div>\n        '}),o.Vue.component("BXmakerAuthuserphoneEnterForgetForm",{name:"BXmakerAuthuserphoneEnterForgetForm",data:function(){return{}},computed:{},methods:{onClickConfirm:function(){this.$root.isFullCaptcha&&this.$root.forget()},onChangePhone:function(e){this.$root.setPhone(e.formattedValue)},onEnterPhone:function(){this.onClickConfirm()},onEnterEmail:function(){this.onClickConfirm()}},template:'\n            <div class="bxmaker-authuserphone-enter-forget-form"  >\n                 \n                 <slot name="message" >  \n                        <BXmakerAuthuserphoneMessage :message="$root.message" :error="$root.error" />\n                   </slot>     \n                                      \n                    <slot name="phone">       \n                    \n                     <BXmakerAuthuserphoneInputPhone  \n                     v-if="$root.isEnabledPhoneMaskTypeBitrix"\n                            :title="$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_FORGET_FORM_PHONE" \n                            :value="$root.phone" \n                            @onChange="onChangePhone" \n                            @onEnter="onEnterPhone" \n                            name="PHONE" \n                            :mask="$root.phoneMaskParams"                       \n                        />\n                                                \n                                \n                        <BXmakerAuthuserphoneInput v-else\n                            :title="$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_FORGET_FORM_PHONE" \n                            :value="$root.phone" \n                            @onInput="$root.setPhone" \n                             @onEnter="onEnterPhone"                          \n                            name="PHONE" \n                            :mask="$root.phoneMaskParams"\n                            type="tel"\n                        />\n                        \n                    </slot>     \n                    \n                                                   \n                    <slot name="email" v-if="$root.isEnabledRestoreByEmail">  \n                    \n                         <div class="bxmaker-authuserphone-enter-forget-form__or" >\n                            {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_FORGET_FORM_OR}}\n                        </div>\n                                     \n                        <BXmakerAuthuserphoneInput                             \n                            :title="$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_FORGET_FORM_EMAIL" \n                            :value="$root.email" \n                            @onInput="$root.setEmail" \n                             @onEnter="onEnterEmail"  \n                            name="EMAIL" \n                        />\n                    </slot>        \n                    \n                   <slot name="captcha">\n                        <BXmakerAuthuserphoneCaptcha \n                            :code="$root.captchaCode"\n                            :src="$root.captchaSrc"\n                            :length="$root.captchaLength"\n                            :loader="$root.captchaLoader"\n                            @onInput="$root.setCaptchaCode"\n                            @onComplete="onClickConfirm"\n                            @onRefresh="$root.refreshCaptcha"\n                           />  \n                     </slot>   \n                     \n                    \n                     <slot name="request">\n                        <BXmakerAuthuserphoneButton \n                            :title="$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_FORGET_FORM_BUTTON"  \n                            :loader="$root.forgetLoader"\n                            @onClick="onClickConfirm" \n                        />\n                    </slot>\n                   \n                             \n            </div>\n        '}),o.Vue.component("BXmakerAuthuserphoneEnterForget",{name:"BXmakerAuthuserphoneEnterForget",data:function(){return{}},computed:{},methods:{},template:'\n            <div class="bxmaker-authuserphone-enter-forget"  >\n                \n                <BXmakerAuthuserphoneHeader class="bxmaker-authuserphone-enter-auth__title" >\n                    {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_FORGET_TITLE}}\n                </BXmakerAuthuserphoneHeader>    \n                                              \n                <BXmakerAuthuserphoneEnterForgetForm \n                    v-show="!$root.isShowConfirm" \n                />   \n                \n                                        \n                <BXmakerAuthuserphoneEnterSmsCode  \n                    v-show="$root.isNeedShowConfirmSmsCode"                                    \n                /> \n                    \n                <BXmakerAuthuserphoneEnterUserCall  \n                    v-show="$root.isNeedShowConfirmUserCall"   \n                /> \n                    \n                <BXmakerAuthuserphoneEnterBotCall \n                     v-show="$root.isNeedShowConfirmBotCall"                 \n                />  \n                \n                <BXmakerAuthuserphoneEnterBotSpeech \n                     v-show="$root.isNeedShowConfirmBotSpeech"                 \n                />  \n                \n                 <BXmakerAuthuserphoneEnterSimPush \n                     v-show="$root.isNeedShowConfirmSimPush"                 \n                />  \n                    \n                <div class="bxmaker-authuserphone-enter-auth__change-confirm" v-if="$root.isNeedShowChangeConfirm"  >\n                     <BXmakerAuthuserphoneLink @onClick="$root.changeConfirmType" >\n                        {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_CHANGE_CONFIRM_TYPE}}   \n                     </BXmakerAuthuserphoneLink> \n                </div>   \n                    \n                    \n                <div class="bxmaker-authuserphone-enter-auth__toregistration" v-if="!$root.isShowConfirm">\n                     <BXmakerAuthuserphoneLink @onClick="$root.toAuth" >\n                            {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_TO_AUTH}}   \n                    </BXmakerAuthuserphoneLink> \n                </div>                \n                             \n            </div>\n        '}),o.Vue.component("BXmakerAuthuserphoneEnter",{name:"BXmakerAuthuserphoneEnter",data:function(){return{}},computed:{},methods:{},template:'\n            <div class="bxmaker-authuserphone-enter" :id="\'bxmaker-authuserphone-enter__\' + $root.rand" >\n                \n                <BXmakerAuthuserphoneEmpty v-if="$root.isAuthorized" >\n                 {{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_IS_AUTHORIZED}} <br>\n                    <a href="?logout=Y">{{$root.localize.BXMAKER_AUTHUSERPHONE_ENTER_LOGOUT}}</a>\n                 </BXmakerAuthuserphoneEmpty>                 \n                               \n                <BXmakerAuthuserphoneEnterAuth v-show="$root.actionTypeIsAuth && !$root.isAuthorized" />\n                \n                <BXmakerAuthuserphoneEnterReg v-show="$root.actionTypeIsReg && !$root.isAuthorized && this.$root.isEnabledRegister" />\n                \n                <BXmakerAuthuserphoneEnterForget v-show="$root.actionTypeIsForget && !$root.isAuthorized" />                        \n                             \n            </div>\n        '});var a=function(){function e(t,o){babelHelpers.classCallCheck(this,e),this.rootId=t,this.data=o,this.rand=o.rand,this.instance=null,this.initTemplate()}return babelHelpers.createClass(e,[{key:"initTemplate",value:function(){var e=this;return this.instance=o.Vue.createApp({name:"BXmakerAuthuserphoneEnterContainer__"+this.rand,key:this.rand,data:function(){return{data:e.data,rand:e.data.rand,isEnabledReload:!0,isEnabledRedirect:!0,isAuthorized:e.data.isAuthorized,isEnabledRegister:e.data.isEnabledRegister,confirmQueue:e.data.confirmQueue,isEnabledConfirmBySmsCode:e.data.isEnabledConfirmBySmsCode,isEnabledConfirmByUserCall:e.data.isEnabledConfirmByUserCall,isEnabledConfirmByBotCall:e.data.isEnabledConfirmByBotCall,isEnabledConfirmByBotSpeech:e.data.isEnabledConfirmByBotSpeech,isEnabledConfirmBySimPush:e.data.isEnabledConfirmBySimPush,isEnabledConfirmByEmailCode:e.data.isEnabledConfirmByEmailCode,isEnabledAuthByLogin:e.data.isEnabledAuthByLogin,isEnabledAuthByEmail:e.data.isEnabledAuthByEmail,isEnabledRegisterFIO:e.data.isEnabledRegisterFIO,isEnabledRegisterFIOSplit:e.data.isEnabledRegisterFIOSplit,isEnabledRegisterLastName:e.data.isEnabledRegisterLastName,isEnabledRegisterFirstName:e.data.isEnabledRegisterFirstName,isEnabledRegisterSecondName:e.data.isEnabledRegisterSecondName,isEnabledRegisterBirthday:e.data.isEnabledRegisterBirthday,isEnabledRegisterLogin:e.data.isEnabledRegisterLogin,isEnabledRegisterEmail:e.data.isEnabledRegisterEmail,isEnabledRegisterPassword:e.data.isEnabledRegisterPassword,registerFIODadata:e.data.registerFIODadata,isEnabledRestoreByEmail:e.data.isEnabledRestoreByEmail,isEnabledRequestConsent:e.data.isEnabledRequestConsent,phoneMaskParams:e.data.phoneMaskParams,actionType:n.ACTION_TYPE_AUTH,lastMethod:"",confirmationType:n.CONFIRM_TYPE_SMS_CODE,isShowConfirm:!1,authBy:e.data.isEnabledAuthByPasswordFirst?n.AUTH_BY_PASSWORD:n.AUTH_BY_PHONE,consentLoader:!1,consentText:!1,isConsentReceived:!1,isEnabledRequestAdsAgreement:e.data.isEnabledRequestAdsAgreement,requestAdsAgreementLabel:e.data.requestAdsAgreementLabel,isAdsAgreementReceived:!1,captchaId:"",captchaCode:"",captchaSrc:"",captchaLength:5,captchaLoader:!1,ple:"",dadataItem:null,fio:"",firstName:"",lastName:"",secondName:"",birthday:"",phone:"",formattedPhone:"",email:"",login:"",password:"",message:!1,error:!1,expandData:{},authByPasswordLoader:!1,authByPhoneLoader:!1,forgetLoader:!1,registerLoader:!1,smsCodeLength:4,smsCodeTimeout:0,smsCode:"",smsCodeError:"",smsCodeStartLoader:!1,smsCodeCheckLoader:!1,userCallTo:"",userCallStartLoader:!1,userCallCheckLoader:!1,userCallTimeout:0,botCallCode:"",botCallLength:4,botCallTimeout:0,botCallStartLoader:!1,botCallCheckLoader:!1,botSpeechCode:"",botSpeechLength:4,botSpeechTimeout:0,botSpeechStartLoader:!1,botSpeechCheckLoader:!1,simPush:"",simPushTimeout:0,simPushDelay:3,simPushStartLoader:!1,simPushCheckLoader:!1,emailCodeLength:4,emailCodeTimeout:0,emailCode:"",emailCodeError:"",emailCodeStartLoader:!1,emailCodeCheckLoader:!1,authByEmailCodeLoader:!1}},computed:{localize:function(){return BX.Vue.getFilteredPhrases("BXMAKER_AUTHUSERPHONE_ENTER_")},const:function(){return n},baseAjaxData:function(){var e="",t="";return this.isConfirmBySmsCode?(e=this.const.CONFIRM_TYPE_SMS_CODE,t=this.smsCode):this.isConfirmByUserCall?(e=this.const.CONFIRM_TYPE_USER_CALL,t=this.userCallTo):this.isConfirmByBotCall?(e=this.const.CONFIRM_TYPE_BOT_CALL,t=this.botCallCode):this.isConfirmByBotSpeech?(e=this.const.CONFIRM_TYPE_BOT_SPEECH,t=this.botSpeechCode):this.isConfirmBySimPush?(e=this.const.CONFIRM_TYPE_SIM_PUSH,t=this.simPush):this.isConfirmByEmailCode&&(e=this.const.CONFIRM_TYPE_EMAIL_CODE,t=this.emailCode),{siteId:this.data.siteId,template:this.data.template,parameters:this.data.parameters,rand:this.data.rand,expandData:r({},this.expandData),confirmType:e,confirmValue:t,actionType:this.actionType,captchaId:this.captchaId,captchaCode:this.captchaCode}},isAuthByPhone:function(){return this.authBy===n.AUTH_BY_PHONE},isAuthByPassword:function(){return this.authBy===n.AUTH_BY_PASSWORD},isAuthByEmailCode:function(){return this.authBy===n.AUTH_BY_EMAIL_CODE},isNeedShowAuthByPhoneForm:function(){return!this.$root.isShowConfirm&&this.isAuthByPhone},isNeedShowAuthByPasswordForm:function(){return!this.$root.isShowConfirm&&this.isAuthByPassword},isNeedShowAuthByEmailCodeForm:function(){return!this.$root.isShowConfirm&&this.isAuthByEmailCode},confirmationList:function(){var e=this,t=this.data.confirmQueue;return this.isEnabledConfirmBySmsCode||(t=t.filter((function(t){return t!==e.const.CONFIRM_TYPE_SMS_CODE}))),this.isEnabledConfirmByUserCall||(t=t.filter((function(t){return t!==e.const.CONFIRM_TYPE_USER_CALL}))),this.isEnabledConfirmByBotCall||(t=t.filter((function(t){return t!==e.const.CONFIRM_TYPE_BOT_CALL}))),this.isEnabledConfirmByBotSpeech||(t=t.filter((function(t){return t!==e.const.CONFIRM_TYPE_BOT_SPEECH}))),this.isEnabledConfirmBySimPush||(t=t.filter((function(t){return t!==e.const.CONFIRM_TYPE_SIM_PUSH}))),t.length<=0&&t.push(this.const.CONFIRM_TYPE_SMS_CODE),t},startLoader:function(){return this.smsCodeStartLoader||this.userCallStartLoader||this.botCallStartLoader||this.botSpeechStartLoader||this.simPushStartLoader||this.authByPasswordLoader||this.authByPhoneLoader||this.emailCodeStartLoader},checkLoader:function(){return this.smsCodeCheckLoader||this.userCallCheckLoader||this.botCallCheckLoader||this.botSpeechCheckLoader||this.simPushCheckLoader||this.authByPasswordLoader||this.authByPhoneLoader||this.emailCodeCheckLoader},isConfirmBySmsCode:function(){return this.confirmationType===this.const.CONFIRM_TYPE_SMS_CODE},isConfirmByUserCall:function(){return this.confirmationType===this.const.CONFIRM_TYPE_USER_CALL},isConfirmByBotCall:function(){return this.confirmationType===this.const.CONFIRM_TYPE_BOT_CALL},isConfirmByBotSpeech:function(){return this.confirmationType===this.const.CONFIRM_TYPE_BOT_SPEECH},isConfirmBySimPush:function(){return this.confirmationType===this.const.CONFIRM_TYPE_SIM_PUSH},isConfirmByEmailCode:function(){return this.confirmationType===this.const.CONFIRM_TYPE_EMAIL_CODE},isNeedShowConfirmSmsCode:function(){return!this.isAuthorized&&this.isShowConfirm&&this.isConfirmBySmsCode},isNeedShowConfirmUserCall:function(){return!this.isAuthorized&&this.isShowConfirm&&this.isConfirmByUserCall},isNeedShowConfirmBotCall:function(){return!this.isAuthorized&&this.isShowConfirm&&this.isConfirmByBotCall},isNeedShowConfirmBotSpeech:function(){return!this.isAuthorized&&this.isShowConfirm&&this.isConfirmByBotSpeech},isNeedShowConfirmSimPush:function(){return!this.isAuthorized&&this.isShowConfirm&&this.isConfirmBySimPush},isNeedShowConfirmEmailCode:function(){return!this.isAuthorized&&this.isShowConfirm&&this.isConfirmByEmailCode},isNeedShowChangeConfirm:function(){return!this.isAuthorized&&this.isShowConfirm&&this.confirmationList.length>1&&!this.isAuthByEmailCode},isFullCaptcha:function(){return!this.captchaId||this.captchaLength===this.captchaCode.toString().length},actionTypeIsAuth:function(){return this.actionType===n.ACTION_TYPE_AUTH},actionTypeIsReg:function(){return this.actionType===n.ACTION_TYPE_REG},actionTypeIsForget:function(){return this.actionType===n.ACTION_TYPE_FORGET},isEnabledPhoneMaskTypeBitrix:function(){return this.phoneMaskParams&&this.phoneMaskParams.type&&"bitrix"===this.phoneMaskParams.type}},watch:{actionType:function(e,t){BX.Vue.event.$emit("BXmakerAuthuserphoneEnterChangeActionType",{value:e,oldValue:t,rand:this.rand})},confirmationType:function(e,t){BX.Vue.event.$emit("BXmakerAuthuserphoneEnterChangeConfirmationType",{value:e,oldValue:t,rand:this.rand})},isShowConfirm:function(e,t){BX.Vue.event.$emit("BXmakerAuthuserphoneEnterChangeShowConfirm",{value:e,oldValue:t,rand:this.rand})},isAuthByPassword:function(e,t){BX.Vue.event.$emit("BXmakerAuthuserphoneEnterChangeIsAuthByPassword",{value:e,oldValue:t,rand:this.rand})}},created:function(){this.confirmationList.length>0&&this.confirmationList[0]!==this.confirmationType&&this.setConfirmType(this.confirmationList[0]),"#reg"===location.hash&&this.isEnabledRegister&&this.toRegistration()},methods:{resetExpandData:function(){this.expandData={}},setExpandData:function(e,t){this.expandData[e]=t},setIsEnabledReload:function(e){this.isEnabledReload=!!e},setIsEnabledRedirect:function(e){this.isEnabledRedirect=!!e},setFIO:function(e){this.fio=e},setFirstName:function(e){this.firstName=e},setLastName:function(e){this.lastName=e},setSecondName:function(e){this.secondName=e},setBirthday:function(e){this.birthday=e},setDadataItem:function(e){this.dadataItem=e},setPLE:function(e){this.ple=e},setIsAuthByPassword:function(e){this.isAuthByPassword=e},setPhone:function(e){this.phone=e},setFormattedPhone:function(e){this.formattedPhone=e},setLogin:function(e){this.login=e},setEmail:function(e){this.email=e},setPassword:function(e){this.password=e},setIsAuthorized:function(e){this.isAuthorized=!!e},setAuthByPhone:function(){this.authBy=n.AUTH_BY_PHONE,this.setConfirmType(this.confirmationList[0])},setAuthByPassword:function(){this.authBy=n.AUTH_BY_PASSWORD},setAuthByEmailCode:function(){this.authBy=n.AUTH_BY_EMAIL_CODE,this.setConfirmType(n.CONFIRM_TYPE_EMAIL_CODE)},setAuthByPasswordLoader:function(e){this.authByPasswordLoader=!!e},setAuthByPhoneLoader:function(e){this.authByPhoneLoader=!!e,this.smsCodeCheckLoader=!!e,this.botCallCheckLoader=!!e,this.botSpeechCheckLoader=!!e,this.userCallCheckLoader=!!e,this.simPushCheckLoader=!!e},setForgetLoader:function(e){this.forgetLoader=!!e,this.smsCodeCheckLoader=!!e,this.botCallCheckLoader=!!e,this.botSpeechCheckLoader=!!e,this.userCallCheckLoader=!!e,this.simPushCheckLoader=!!e},setRegisterLoader:function(e){this.registerLoader=!!e,this.smsCodeCheckLoader=!!e,this.botCallCheckLoader=!!e,this.botSpeechCheckLoader=!!e,this.userCallCheckLoader=!!e,this.simPushCheckLoader=!!e},resetCheck:function(){this.smsCode="",this.userCallTo="",this.botCallCode="",this.botSpeechCode="",this.simPush="",this.emailCode=""},setSmsCodeLength:function(e){this.smsCodeLength=e},setSmsCodeTimeout:function(e){this.smsCodeTimeout=e},setSmsCode:function(e){this.smsCode=e},setSmsCodeError:function(e){this.smsCodeError=e},setSmsCodeStartLoader:function(e){this.smsCodeStartLoader=e},setSmsCodeCheckLoader:function(e){this.smsCodeCheckLoader=e},setUserCallTo:function(e){this.userCallTo=e},setUserCallStartLoader:function(e){this.userCallStartLoader=e},setUserCallCheckLoader:function(e){this.userCallCheckLoader=e},setUserCallTimeout:function(e){this.userCallTimeout=e},setBotCallCode:function(e){this.botCallCode=e},setBotCallLength:function(e){this.botCallLength=e},setBotCallTimeout:function(e){this.botCallTimeout=e},setBotCallStartLoader:function(e){this.botCallStartLoader=e},setBotCallCheckLoader:function(e){this.botCallCheckLoader=e},setBotSpeechCode:function(e){this.botSpeechCode=e},setBotSpeechLength:function(e){this.botSpeechLength=e},setBotSpeechTimeout:function(e){this.botSpeechTimeout=e},setBotSpeechStartLoader:function(e){this.botSpeechStartLoader=e},setBotSpeechCheckLoader:function(e){this.botSpeechCheckLoader=e},setSimPush:function(e){this.simPush=e},setSimPushTimeout:function(e){this.simPushTimeout=e},setSimPushDelay:function(e){this.simPushDelay=e},setSimPushStartLoader:function(e){this.simPushStartLoader=e},setSimPushCheckLoader:function(e){this.simPushCheckLoader=e},changeConfirmType:function(){var e=this.confirmationList,t=this.confirmationType;if(e.length>1){var o=e[0],n=e.indexOf(t);n>-1&&e[n+1]&&(o=e[n+1]),o!==t&&(this.setConfirmType(o),this.startConfirm())}},setConfirmType:function(e){this.resetMessage(),this.confirmationType=e},showConfirm:function(){this.isShowConfirm=!0},hideConfirm:function(){this.isShowConfirm=!1},resetMessage:function(){this.message=!1,this.error=!1},setError:function(e){this.message=e,this.error=!0},setMessage:function(e){this.message=e,this.error=!1},parseError:function(e){switch(e.more&&e.more.formattedPhone&&this.setFormattedPhone(e.more.formattedPhone),e.code){case"ERROR_NEED_CONFIRM":this.resetCaptcha(),this.startConfirm(),this.showConfirm();break;case"ERROR_INVALID_PHONE":this.resetCaptcha(),this.hideConfirm(),this.setError(e.msg);break;case"ERROR_NEED_WAIT_TIMEOUT":this.resetCaptcha(),this.showConfirm(),this.confirmationType===this.const.CONFIRM_TYPE_SMS_CODE?(this.setSmsCodeTimeout(e.more.timeout),this.setSmsCodeLength(e.more.length)):this.confirmationType===this.const.CONFIRM_TYPE_USER_CALL?(this.setUserCallTimeout(e.more.timeout),e.more.callTo&&this.setUserCallTo(e.more.callTo)):this.confirmationType===this.const.CONFIRM_TYPE_BOT_CALL?(this.setBotCallTimeout(e.more.timeout),this.setBotCallLength(e.more.length)):this.confirmationType===this.const.CONFIRM_TYPE_BOT_SPEECH?(this.setBotSpeechTimeout(e.more.timeout),this.setBotSpeechLength(e.more.length)):this.confirmationType===this.const.CONFIRM_TYPE_SIM_PUSH&&(this.setSimPushTimeout(e.more.timeout),this.setSimPush(1)),this.confirmationType===this.const.CONFIRM_TYPE_EMAIL_CODE&&(this.setEmailCodeTimeout(e.more.timeout),this.setEmailCodeLength(1));break;case"ERROR_NEED_CAPTCHA":this.setError(e.msg),this.setCaptchaCode(""),this.setCaptchaId(e.more.captchaId),this.setCaptchaSrc(e.more.captchaSrc),this.setCaptchaLength(e.more.captchaLength);break;case"ERROR_INVALID_SMS_CODE":this.setSmsCode(""),this.setSmsCodeError(e.msg);break;case"SERVICE_ERROR_UNKNOWN":case"SERVICE_ERROR_RESPONSE":this.resetCaptcha(),this.showConfirm(),this.setError(e.msg);break;default:this.setError(e.msg)}},toRegistration:function(){this.hideConfirm(),this.resetMessage(),this.resetCaptcha(),this.actionType=n.ACTION_TYPE_REG,this.loadConsent()},toAuth:function(){this.hideConfirm(),this.resetMessage(),this.resetCaptcha(),this.actionType=n.ACTION_TYPE_AUTH},toForget:function(){this.hideConfirm(),this.resetMessage(),this.resetCaptcha(),this.actionType=n.ACTION_TYPE_FORGET},loadConsent:function(){var e=this;if(!this.isEnabledRequestConsent)return!1;if(this.consentLoader||this.consentText)return!1;this.lastMethod=this.loadConsent,this.consentLoader=!0,this.resetMessage();var t=Object.freeze({sessid:BX.bitrix_sessid(),siteId:this.data.siteId,template:this.data.template,parameters:this.data.parameters,expandData:r({},this.expandData),rand:this.data.rand,method:"getConsent"});BX.ajax({url:this.data.ajaxUrl,method:"POST",dataType:"json",timeout:10,async:!0,cache:!1,data:t,onsuccess:function(o){BX.Vue.event.$emit("BXmakerAuthuserphoneEnterAjaxResponse",{request:t,result:o}),o.response?e.consentText=o.response.html:e.parseError(o.error),e.consentLoader=!1},onfailure:function(t){e.consentLoader=!1}})},consentAgree:function(){this.isConsentReceived=!0},consentDisagree:function(){this.isConsentReceived=!1},adsAgreementAgree:function(){this.setAdsAgreement(!0)},adsAgreementDisagree:function(){this.setAdsAgreement(!1)},setAdsAgreement:function(e){this.isAdsAgreementReceived=!!e},refreshCaptcha:function(){var e=this;this.resetMessage(),this.captchaLoader=!0;var t=Object.freeze({sessid:BX.bitrix_sessid(),siteId:this.data.siteId,template:this.data.template,parameters:this.data.parameters,expandData:r({},this.expandData),rand:this.data.rand,method:"refreshCaptcha"});BX.ajax({url:this.data.ajaxUrl,method:"POST",dataType:"json",timeout:10,async:!0,cache:!1,data:t,onsuccess:function(o){BX.Vue.event.$emit("BXmakerAuthuserphoneEnterAjaxResponse",{request:t,result:o}),o.response?(e.captchaId=o.response.captchaId,e.captchaSrc=o.response.captchaSrc,e.captchaLength=o.response.captchaLength,e.captchaCode=""):e.parseError(o.error),e.captchaLoader=!1},onfailure:function(t){e.captchaLoader=!1}})},resetCaptcha:function(){this.captchaCode="",this.captchaId="",this.captchaSrc=""},hideCaptcha:function(){this.captchaSrc=!1},setCaptchaCode:function(e){this.captchaCode=e},setCaptchaId:function(e){this.captchaId=e},setCaptchaSrc:function(e){this.captchaSrc=e},setCaptchaLength:function(e){this.captchaLength=+e},startConfirm:function(){switch(this.confirmationType){case this.const.CONFIRM_TYPE_SMS_CODE:this.startConfirmSmsCode();break;case this.const.CONFIRM_TYPE_USER_CALL:this.startConfirmUserCall();break;case this.const.CONFIRM_TYPE_BOT_CALL:this.startConfirmBotCall();break;case this.const.CONFIRM_TYPE_BOT_SPEECH:this.startConfirmBotSpeech();break;case this.const.CONFIRM_TYPE_SIM_PUSH:this.startConfirmSimPush()}},startConfirmSmsCode:function(){var e=this;if(this.smsCodeStartLoader)return!1;this.resetMessage(),this.setSmsCodeStartLoader(!0);var t=Object.freeze(r(r({},this.baseAjaxData),{},{sessid:BX.bitrix_sessid(),method:"startConfirm",phone:this.phone}));BX.ajax({url:this.data.ajaxUrl,method:"POST",dataType:"json",timeout:10,async:!0,cache:!1,data:t,onsuccess:function(o){BX.Vue.event.$emit("BXmakerAuthuserphoneEnterAjaxResponse",{request:t,result:o}),e.resetCaptcha(),o.response?(e.setFormattedPhone(o.response.formattedPhone),e.setSmsCodeLength(o.response.length),e.setSmsCodeTimeout(o.response.timeout),e.resetCaptcha(),e.showConfirm()):e.parseError(o.error),e.setSmsCodeStartLoader(!1)},onfailure:function(t){e.setSmsCodeStartLoader(!1)}})},startConfirmUserCall:function(){var e=this;if(this.userCallStartLoader)return!1;this.resetMessage(),this.setUserCallStartLoader(!0);var t=Object.freeze(r(r({},this.baseAjaxData),{},{sessid:BX.bitrix_sessid(),method:"startConfirm",phone:this.phone}));BX.ajax({url:this.data.ajaxUrl,method:"POST",dataType:"json",timeout:10,async:!0,cache:!1,data:t,onsuccess:function(o){BX.Vue.event.$emit("BXmakerAuthuserphoneEnterAjaxResponse",{request:t,result:o}),e.resetCaptcha(),o.response?(e.setFormattedPhone(o.response.formattedPhone),e.setUserCallTo(o.response.callTo),e.setUserCallTimeout(o.response.timeout),e.resetCaptcha(),e.showConfirm()):e.parseError(o.error),e.setUserCallStartLoader(!1)},onfailure:function(t){e.setUserCallStartLoader(!1)}})},startConfirmBotCall:function(){var e=this;if(this.botCallStartLoader)return!1;this.resetMessage(),this.setBotCallStartLoader(!0);var t=Object.freeze(r(r({},this.baseAjaxData),{},{sessid:BX.bitrix_sessid(),method:"startConfirm",phone:this.phone}));BX.ajax({url:this.data.ajaxUrl,method:"POST",dataType:"json",timeout:10,async:!0,cache:!1,data:t,onsuccess:function(o){BX.Vue.event.$emit("BXmakerAuthuserphoneEnterAjaxResponse",{request:t,result:o}),e.resetCaptcha(),o.response?(e.setFormattedPhone(o.response.formattedPhone),e.setBotCallLength(o.response.length),e.setBotCallTimeout(o.response.timeout),e.resetCaptcha(),e.showConfirm()):e.parseError(o.error),e.setBotCallStartLoader(!1)},onfailure:function(t){e.setBotCallStartLoader(!1)}})},startConfirmBotSpeech:function(){var e=this;if(this.botSpeechStartLoader)return!1;this.resetMessage(),this.setBotSpeechStartLoader(!0);var t=Object.freeze(r(r({},this.baseAjaxData),{},{sessid:BX.bitrix_sessid(),method:"startConfirm",phone:this.phone}));BX.ajax({url:this.data.ajaxUrl,method:"POST",dataType:"json",timeout:10,async:!0,cache:!1,data:t,onsuccess:function(o){BX.Vue.event.$emit("BXmakerAuthuserphoneEnterAjaxResponse",{request:t,result:o}),e.resetCaptcha(),o.response?(e.setFormattedPhone(o.response.formattedPhone),e.setBotSpeechLength(o.response.length),e.setBotSpeechTimeout(o.response.timeout),e.resetCaptcha(),e.showConfirm()):e.parseError(o.error),e.setBotSpeechStartLoader(!1)},onfailure:function(t){e.setBotSpeechStartLoader(!1)}})},startConfirmSimPush:function(){var e=this;if(this.simPushStartLoader)return!1;this.resetMessage(),this.setSimPushStartLoader(!0);var t=Object.freeze(r(r({},this.baseAjaxData),{},{sessid:BX.bitrix_sessid(),method:"startConfirm",phone:this.phone}));BX.ajax({url:this.data.ajaxUrl,method:"POST",dataType:"json",timeout:10,async:!0,cache:!1,data:t,onsuccess:function(o){BX.Vue.event.$emit("BXmakerAuthuserphoneEnterAjaxResponse",{request:t,result:o}),e.resetCaptcha(),o.response?(e.setFormattedPhone(o.response.formattedPhone),e.setSimPushTimeout(o.response.timeout),e.setSimPush(1),o.response.delay&&(e._simPushDelayTimeout&&clearTimeout(e._simPushDelayTimeout),e.setSimPushDelay(+o.response.delay),e._simPushDelayTimeout=setTimeout((function(){e.setSimPushDelay(0)}),1e3*+o.response.delay)),e.resetCaptcha(),e.showConfirm()):e.parseError(o.error),e.setSimPushStartLoader(!1)},onfailure:function(t){e.setSimPushStartLoader(!1)}})},authByPassword:function(){var e=this;if(this.authByPasswordLoader)return!1;this.resetMessage(),this.setAuthByPasswordLoader(!0);var t=Object.freeze(r(r({},this.baseAjaxData),{},{sessid:BX.bitrix_sessid(),method:"authByPassword",ple:this.ple,password:this.password}));BX.ajax({url:this.data.ajaxUrl,method:"POST",dataType:"json",timeout:10,async:!0,cache:!1,data:t,onsuccess:function(o){BX.Vue.event.$emit("BXmakerAuthuserphoneEnterAjaxResponse",{request:t,result:o}),e.resetCaptcha(),o.response?(e.setIsAuthorized(!0),e.afterAuthSuccessful(o.response)):e.parseError(o.error),e.setAuthByPasswordLoader(!1)},onfailure:function(t){e.setAuthByPasswordLoader(!1)}})},authByPhone:function(){var e=this;if(this.authByPhoneLoader)return!1;this.resetMessage(),this.setAuthByPhoneLoader(!0);var t=Object.freeze(r(r({},this.baseAjaxData),{},{sessid:BX.bitrix_sessid(),method:"authByPhone",phone:this.phone}));BX.ajax({url:this.data.ajaxUrl,method:"POST",dataType:"json",timeout:10,async:!0,cache:!1,data:t,onsuccess:function(o){BX.Vue.event.$emit("BXmakerAuthuserphoneEnterAjaxResponse",{request:t,result:o}),e.resetCaptcha(),o.response?e.afterAuthSuccessful(o.response):(e.parseError(o.error),e.setAuthByPhoneLoader(!1))},onfailure:function(t){e.setAuthByPhoneLoader(!1)}})},afterAuthSuccessful:function(e){e.redirect&&this.isEnabledRedirect?location.href=e.redirect:e.reload&&this.isEnabledReload?location.reload():(this.setIsAuthorized(!0),this.setAuthByPhoneLoader(!1))},forget:function(){var e=this;if(this.forgetLoader)return!1;this.resetMessage(),this.setForgetLoader(!0);var t=Object.freeze(r(r({},this.baseAjaxData),{},{sessid:BX.bitrix_sessid(),method:"forget",phone:this.phone,email:this.email}));BX.ajax({url:this.data.ajaxUrl,method:"POST",dataType:"json",timeout:10,async:!0,cache:!1,data:t,onsuccess:function(o){BX.Vue.event.$emit("BXmakerAuthuserphoneEnterAjaxResponse",{request:t,result:o}),e.resetCaptcha(),o.response?(e.setMessage(o.response.msg),o.response.isAuthorized&&(e.setIsAuthorized(!0),e.afterAuthSuccessful(o.response))):e.parseError(o.error),e.setForgetLoader(!1)},onfailure:function(t){e.setForgetLoader(!1)}})},register:function(){var e=this;if(this.registerLoader)return!1;this.resetMessage(),this.setRegisterLoader(!0);var t=Object.freeze(r(r({},this.baseAjaxData),{},{sessid:BX.bitrix_sessid(),method:"register",fio:this.fio,firstName:this.firstName,lastName:this.lastName,secondName:this.secondName,birthday:this.birthday,dadataItem:this.dadataItem,phone:this.phone,login:this.login,email:this.email,password:this.password,consentUrl:window.location.href,adsAgreement:this.isAdsAgreementReceived}));BX.ajax({url:this.data.ajaxUrl,method:"POST",dataType:"json",timeout:10,async:!0,cache:!1,data:t,onsuccess:function(o){BX.Vue.event.$emit("BXmakerAuthuserphoneEnterAjaxResponse",{request:t,result:o}),e.resetCaptcha(),o.response?(e.setIsAuthorized(!0),e.afterAuthSuccessful(o.response)):e.parseError(o.error),e.setRegisterLoader(!1)},onfailure:function(t){e.setRegisterLoader(!1)}})},checkConfirm:function(){switch(this.actionType){case n.ACTION_TYPE_AUTH:this.authByPhone();break;case n.ACTION_TYPE_REG:this.register();break;case n.ACTION_TYPE_FORGET:this.forget()}},onCommandCallUserCheck:function(){return this.confirmationType!==this.const.CONFIRM_TYPE_USER_CALL||(!this.isShowConfirm||void this.checkConfirm())},setEmailCode:function(e){this.emailCode=e},setEmailCodeTimeout:function(e){this.emailCodeTimeout=e},setEmailCodeLength:function(e){this.emailCodeLength=e},setEmailCodeStartLoader:function(e){this.emailCodeStartLoader=e},setEmailCodeCheckLoader:function(e){this.emailCodeCheckLoader=e},startConfirmEmailCode:function(){var e=this;if(this.emailCodeStartLoader)return!1;this.resetMessage(),this.setEmailCodeStartLoader(!0);var t=Object.freeze(r(r({},this.baseAjaxData),{},{sessid:BX.bitrix_sessid(),method:"startConfirm",type:this.const.CONFIRM_TYPE_EMAIL_CODE,email:this.email,phone:this.phone,captchaId:this.captchaId,captchaCode:this.captchaCode}));BX.ajax({url:this.data.ajaxUrl,method:"POST",dataType:"json",timeout:10,async:!0,cache:!1,data:t,onsuccess:function(o){BX.Vue.event.$emit("BXmakerAuthuserphoneSimpleAjaxResponse",{request:t,result:o}),e.resetCaptcha(),o.response?(e.setEmail(o.response.email),e.setEmailCodeLength(o.response.length),e.setEmailCodeTimeout(o.response.timeout),e.resetCaptcha(),e.showConfirm()):e.parseError(o.error),e.setEmailCodeStartLoader(!1)},onfailure:function(t){e.setEmailCodeStartLoader(!1)}})},authByEmailCode:function(){var e=this;if(this.emailCodeCheckLoader)return!1;this.resetMessage(),this.setEmailCodeCheckLoader(!0);var t=Object.freeze(r(r({},this.baseAjaxData),{},{sessid:BX.bitrix_sessid(),method:"authByEmail",email:this.email}));BX.ajax({url:this.data.ajaxUrl,method:"POST",dataType:"json",timeout:10,async:!0,cache:!1,data:t,onsuccess:function(o){BX.Vue.event.$emit("BXmakerAuthuserphoneEnterAjaxResponse",{request:t,result:o}),e.resetCaptcha(),o.response?(e.setIsAuthorized(!0),e.afterAuthSuccessful(o.response)):e.parseError(o.error),e.setEmailCodeCheckLoader(!1)},onfailure:function(t){e.setEmailCodeCheckLoader(!1)}})}},template:'<BXmakerAuthuserphoneEnter :key="data.rand" />'}),this.instance.mount("#"+this.rootId),new Promise((function(e,t){return e()}))}}]),e}();e.Enter=a}(this.BXmaker.Authuserphone=this.BXmaker.Authuserphone||{},BXmaker.Authuserphone.Core,BX);
//# sourceMappingURL=index.bundle.js.map
